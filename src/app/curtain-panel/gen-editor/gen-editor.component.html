<span class="text-body-secondary">Внимание! Если вы сохраните ветвь с уже существующим id, то старая будет полностью заменена новой.</span>
<div id="id-input">
    <div>
        <span>ID</span>
        <input type="text" class="form-control" [class.is-invalid]="!isIdValid" (ngModelChange)="validateId($event)" placeholder="ID" [(ngModel)]="gen.id"/>
        <div class="invalid-feedback">ID должен быть целым числом</div>
    </div>
    <div>
        <span>ID Матери</span>
        <input type="text" class="form-control" [class.is-invalid]="!isMotherIdValid" (ngModelChange)="validateMotherId($event)" placeholder="ID Матери" [(ngModel)]="gen.motherId"/>
        <div class="invalid-feedback">ID матери не должен совпадать с ID ребенка или ID отца. Также он должен быть натуральным числом</div>
    </div>
    <div>
        <span>ID Отца</span>
        <input type="text" class="form-control" [class.is-invalid]="!isFatherIdValid" (ngModelChange)="validateFatherId($event)" placeholder="ID Отца" [(ngModel)]="gen.fatherId"/>
        <div class="invalid-feedback">ID отца не должен совпадать с ID ребенка или ID матери. Также он должен быть натуральным числом</div>
    </div>
</div>
<div id="gen-information">
    <span>Информация</span>
    <button class="btn btn-primary ms-auto" (click)="addInformation()">Добавить поле</button>
    <div class="dropdown">
        <button class="btn btn-outline-secondary dropdown-toggle" data-bs-toggle="dropdown">Шаблоны</button>
        <ul class="dropdown-menu">
            <li><a class="dropdown-item" (click)="selectTemplate()">Пустой шаблон</a></li>
            <li *ngFor="let name of templateNames; let i = index"><a class="dropdown-item" (click)="selectTemplate(name)">{{ name }}</a></li>
        </ul>
    </div>
</div>
<div *ngFor="let property of gen.information; let i = index; trackBy:trackByIndex" class="input-group">
    <input class="form-control" [(ngModel)]="property[0]">
    <span class="input-group-text">:</span>
    <input class="form-control" [(ngModel)]="property[1]">
    <button class="btn btn-danger" (click)="removeInformationProperty(i)">Убрать</button>
</div>
<div id="gen-relations">
    <span>Отношения</span>
    <span class="text-body-secondary">Введите id'ы через запятую</span>
    <button class="btn btn-primary ms-auto" (click)="addRelation()">Добавить поле</button>
</div>
<div *ngFor="let relation of gen.relations; let i = index; trackBy:trackByIndex" class="input-group">
    <input class="form-control" [(ngModel)]="relation[0]">
    <span class="input-group-text">:</span>
    <input class="form-control" [(ngModel)]="relation[1]" [class.is-invalid]="!isRelationsValid(i)">
    <button class="btn btn-danger" (click)="removeRelation(i)">Убрать</button>
</div>
<div id="gen-decision-panel">
    <button class="btn btn-outline-danger" (click)="cancel()">Отмена</button>
    <button class="btn btn-success" (click)="save()">Сохранить</button>
</div>